# FinLove Project Structure

This document provides an overview of the FinLove project structure, explaining the purpose of key directories and files and how they interact.

## Directory Overview

```
FinLove/
├── dashboard/          # Streamlit dashboard application
├── data/               # Raw and processed data storage
├── models/             # Saved machine learning models
├── scripts/            # Utility scripts for data and training
├── src/                # Core business logic and shared modules
├── web/                # Main web application
│   ├── backend/        # FastAPI backend
│   └── frontend/       # Next.js frontend
├── requirements.txt    # Python dependencies
└── README.md           # Project documentation
```

## Key Components

### 1. Web Application (`web/`)
The web application is the main user interface, split into a frontend and a backend.

- **Frontend (`web/frontend/`)**:
    - Built with **Next.js** (React framework).
    - **`app/`**: Contains the application pages and routing logic.
    - **`components/`**: Reusable UI components (e.g., charts, cards).
    - **`package.json`**: Defines frontend dependencies and scripts (`npm run dev`).
    - **Interaction**: Fetches data from the backend API via HTTP requests.

- **Backend (`web/backend/`)**:
    - Built with **FastAPI** (Python framework).
    - **`app.py`**: The entry point for the API server. Configures CORS and mounts routers.
    - **`routers/`**: Contains API route definitions (e.g., `prediction.py`, `portfolio.py`).
        - `prediction.py`: Handles prediction requests, likely using models from `src/`.
    - **`Dataset/`**: Local storage for backend-specific datasets.
    - **Interaction**: Receives requests from the frontend, processes them using logic from `src/` or local modules, and returns JSON responses.

### 2. Dashboard (`dashboard/`)
- **`app.py`**: A **Streamlit** application providing a quick and interactive way to visualize data and model results.
- **Purpose**: Often used for data science exploration, prototyping, or internal tools, separate from the main web app.

### 3. Core Logic (`src/`)
This directory contains the core Python modules used across the project (by the backend, dashboard, and scripts).

- **`data.py`**: Data loading and preprocessing functions.
- **`forecast.py`**: Logic for generating forecasts using trained models.
- **`backtest.py`**: Backtesting strategies on historical data.
- **`metrics.py`**: Performance metrics calculation.
- **`optimize.py`**: Portfolio optimization algorithms.
- **`risk.py`**: Risk assessment tools.
- **`model_collector.py`**: Helper to manage and load multiple models.

### 4. Scripts (`scripts/`)
Standalone scripts for maintenance and setup tasks.
- **`download_data.py`**: Fetches financial data.
- **`train_all_models.py`**: orchestration script to train machine learning models.

### 5. Data & Models (`data/`, `models/`)
- **`data/`**: Stores CSVs, Parquet files, or other data formats used for training and analysis.
- **`models/`**: Stores serialized model files (e.g., `.pkl`, `.h5`, `.joblib`) generated by training scripts.

## Interactions

1.  **User -> Frontend**: The user interacts with the Next.js UI.
2.  **Frontend -> Backend**: The frontend sends HTTP requests (GET/POST) to the FastAPI backend (e.g., `/api/portfolio/predict`).
3.  **Backend -> Core Logic**: The FastAPI routers import functions from `src/` (or local `src` copies) to perform complex calculations like forecasting or optimization.
4.  **Core Logic -> Data/Models**: The core logic loads data from `data/` and pre-trained models from `models/` to generate results.
5.  **Dashboard -> Core Logic**: The Streamlit app also imports directly from `src/` to visualize the same logic and data, independent of the web API.

## How to Run

- **Web App**:
    - Backend: `cd web/backend && python app.py` (Runs on port 8000)
    - Frontend: `cd web/frontend && npm run dev` (Runs on port 3000)
- **Dashboard**:
    - `streamlit run dashboard/app.py`
